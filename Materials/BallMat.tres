[gd_resource type="ShaderMaterial" format=3 uid="uid://che1ppkf7h5e6"]

[sub_resource type="Shader" id="Shader_rqrfo"]
code = "shader_type spatial;
#include \"res://Shaders/SDFFunctions.gdshaderinc\"

//const int arrayMaxLength = 15;

uniform bool useWorldSpace;
uniform vec3 ballColor : source_color;
uniform vec3 lineColor : source_color;
uniform vec2 start;
uniform vec2 end;

varying vec2 fieldPos;

void vertex()
{
}


void fragment()
{
	float d, dstep;
	//vec2 start, end;
	const int lace_count = 7;

	//start = vec2(0.25,0);
	//end = vec2(0.25, 1);
	d = sdSegment(UV, start, end) -0.01;

	for (int i = 0; i < lace_count; i++)
	{
		d = min(
			d,
			sdSegment(
				UV,
				start + vec2(-0.025, float(i)/((float(lace_count)-1.0)/(end.y - start.y))),
				start + vec2(0.025, float(i)/((float(lace_count)-1.0)/(end.y - start.y)))
			)-0.01
		);
	}

	ALBEDO = (d<0.0) ? lineColor : ballColor;
}
"

[resource]
render_priority = 0
shader = SubResource("Shader_rqrfo")
shader_parameter/useWorldSpace = false
shader_parameter/ballColor = Color(0.34902, 0.121569, 0.0784314, 1)
shader_parameter/lineColor = Color(1, 1, 1, 1)
shader_parameter/start = Vector2(0.5, 0.18)
shader_parameter/end = Vector2(0.5, 0.815)
